<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <!-- This meta tag ensures that the website renders correctly across different device sizes, enhancing mobile responsiveness. -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- Link to the external CSS stylesheet. Uncomment if you wish to customize or add styling. -->
    <link rel="stylesheet" href="styles.css">

    <title>Database Application</title>
</head>
<body>
    <!-- ===================================================================================== -->
    <!-- Display the current status of the database connection. 
         !!HERE TO HELP U DEBUGGING, NOT REQUIRED IN YOUR OWN PROJECT!!
         -->
    <h1>Social Media Database</h1>

    <h3>Database Connection Status:
        <!-- An in-line placeholder to display connection status. -->
        <span id="dbStatus"> </span>
        <!-- A loading GIF, will be hided once get the status. -->
        <img id="loadingGif" class="loading-gif" src="loading_100px.gif" alt="Loading...">
    </h3>

    <h3>Don't need this but keeping it just in case for now. Initializes on startup</h3>
    <h2>Initialize tables</h2>
    <p>Initialize Tables.</p>
    <button id="initTable"> initialize </button> <br>
    <div id="initTableResultMsg"></div>
    <div id="insertTableResultMsg"></div>

    <br><hr><br> <!-- ========================================================================= -->

    <!-- Show tables. Data will be fetched and inserted here dynamically using JavaScript. -->
    <h2>Tables</h2>
    <div class="dropdown">
        <button id="dropdownButton">Select Tables</button>
        <ul id="dropdownMenu" class="dropdown-menu">
            <!-- Options will be dynamically populated -->
        </ul>
    </div>
    <!-- Tables will be placed here later-->
    <div id="showTablesContainer">
        <table id="showTables">
            <thead></thead>
            <tbody></tbody>
        </table>

    </div>

    <br><hr><br> <!-- ========================================================================= -->

    <h1>Projection</h1>
    <h2> Choose tables to project </h2>
    <p>Order the features you want to display</p>
    <div class="projectDropdown">
        <button id="projectDropdownButton">Select Tables</button>
        <ul id="projectDropdownMenu" class="dropdown-menu">
            <!-- Options will be dynamically populated -->
        </ul>
        <button id="selectButton">Refresh</button>
    </div>

    <h3><span id="projectSelectedOptions"></span></h3>
    <form id= "projectRow">
        <!-- Form will be dynamically created-->
    </form>
        <div id="projectionTablesContainer">
            <table id="projectionTables">
                <thead></thead>
                <tbody></tbody>
            </table>

        </div>

    <br><hr><br> <!-- ========================================================================= -->

    <p>Result is being printed into console. Need to complete insert function<p>
    <h2> Insert Values into Database </h2>
    <div class="insertDropdown">
        <button id="insertDropdownButton">Select Tables</button>
        <ul id="insertDropdownMenu" class="dropdown-menu">
            <!-- Options will be dynamically populated -->
        </ul>
    </div>
    <h3><span id="insertSelectedOptions"></span></h3>
    <form id= "InsertRow">
        <!-- Form will be dynamically created-->
    </form>

    <br><hr><br> <!-- ========================================================================= -->

    <h2>Reset Database</h2>
    <p>Click 'Reset' to reset the database.</p>
    <button id="resetDatabaseButton"> Reset </button>
    <div id="resetDatabaseResultMsg"></div>

    <br><hr><br> <!-- ========================================================================= -->
    <h1>DEMO: Will need to delete this later but kept to see example html</h1>
    <br><hr><br> <!-- ========================================================================= -->
    <!-- Show 'Demotable'.
        Data will be fetched and inserted here dynamically using JavaScript. -->
    <h2>Show Demotable</h2>
    <table id="demotable">
        <thead>
        <tr>
            <!--Table head, need to be adjusted accordingly to align with your own.-->
            <th>ID</th>
            <th>Name</th>
        </tr>
        </thead>
        <tbody>
        </tbody>
    </table>
    <br><hr><br> <!-- ========================================================================= -->

    <h2>Create Account</h2>
    <p> Please Enter your your information :</p>
    <form id="insertUser">
        <label for="username">Username: </label>
        <input type="text" id ="username" placeholder="Enter Username">
        <label for="email">Email:</label>
        <input type="email" id = "email" placeholder = "Enter Email">
        <label for="displayName">Display Name: </label>
        <input type="text" id = "displayName" placeholder = "Enter Display Name">
        <button type = "submit">Create Account</button>
        <div id = "insertUserMsg"></div>
    </form>

    <br><hr><br> <!-- ========================================================================= -->

    <h2>Create Post</h2>
    <form id ="insertPost">
        <label for="user">Username</label>
        <input type="text" id = "user">
        <h3>Title</h3>
        <input type="text" id = "title" placeholder="Enter Title">
        <label for="community">Community</label>
        <input type="text" id = "community" placeholder="Community">
        <textarea id="content" placeholder="Write your post here..."></textarea>
        <button type = "submit">Post</button>
        <div id="insertPostMsg"></div>
    </form>

    <br><hr><br> <!-- ========================== DELETE USER =============================================== -->

    <h2>Delete Account</h2>
    <div class = "deleteUserHeader" >
    <p>Select an Account to Delete</p>
    <button id = "selectAccount">Show Table</button>
    </div>

    <table id = "deleteUserTable" class = "hide-table"> 
        <thead>
            <tr>
                <th>Username</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td class = "selectedDelete">Some User</td>
            </tr>
        </tbody>
    </table>
    <button id = "deleteButton">Delete</button>
    <div id="deleteUserMsg"></div>

    <br><hr><br> <!-- ========================== NUMBER OF POSTS BY USER =============================================== -->

    <h2>See Number of Posts By User</h2>
    <div class = "numPostHeader">
        <button id = "showNumPost">Show Table</button>
        <button id="refresh">Refresh</button>
    </div>

    <table id="numPostTable" class = "hide-table">
        <thead>
            <tr>
                <th>Username</th>
                <th>Number of Post</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td>Some User</td>
                <td>Some num</td>
            </tr>
        </tbody>
    </table>
    <div id="refreshMsg"></div>


    <br><hr><br> <!-- ========================================================================= -->

    <h2> Insert Values into DemoTable </h2>
    <form id="insertDemotable">
        ID: <input type="number" id="insertId" placeholder="Enter ID" required> <br><br>
        Name: <input type="text" id="insertName" placeholder="Enter Name" maxlength="20"> <br><br>

        <button type="submit"> insert </button> <br>
    </form>
    <div id="insertResultMsg"></div>

    <br><hr><br> <!-- UPDATE========================================================================= -->
    <h2>Update Attributes of User</h2>
    <p>The values are case sensitive and if you enter in the wrong case, the update statement will not do anything.</p>
    <button class = "showTup" onclick="displayTuplesForUpdate();">Show Tuples</button>
    <table id="updateTuplesTable">
        <thead>
            <tr>
                <th>Username</th>
                <th>Email</th>
                <th>Display Name</th>
                <th>Date Joined</th>
            </tr>
        </thead>
        <tbody>
        </tbody>    
    </table>
    <div>
        <h4 id="selectARowMsg"> Select a row </h4> 
        <h4 id="updateUsername"></h4> 
    </div>
    <form id="updateDemotable" style="display: none;" onsubmit="updateUser(event)">
        Email: <input type="text" id="updateEmail" maxlength="50"> <br>
        DisplayName: <input type="text" id="updateDisplayName" required> <br>
        Date Joined: <input type="date" id="updateDateJoined" required> <br>
        <button type="submit" > update </button> <br>
    </form>
    <div id="updateNameResultMsg"></div>
     <!-- END OF UPDATE======================================================================== -->
    




    <br><hr><br> <!-- SELECTION========================================================================= -->
    <h2>Selection: Search Award</h2>
    <p>clauses will be read from top to bottom (first AND/OR second) AND/OR third ...) </p>

    <form id="selectionForm" onsubmit="searchAward(event)">
        <div id="clausesContainer">
            <!-- Conditions will be dynamically added here -->
        </div>
        <button type="button" id="addClauseButton" onclick="addClause();" >Add Clause</button> 
        <br><br>
        <button type="submit">Search</button>
    </form>





    <br><hr><br> <!-- END OF SELECTION======================================================================== -->




    <!-- <h2>Count the Tuples in DemoTable</h2>
    <button id="countDemotable"> count </button> <br><br> -->
    <!-- A placeholder to display the count result. -->
    <!-- <div id="countResultMsg"></div> <br> -->

    <!-- ===================================================================================== -->
    <!-- External JavaScript file that contains the functionality/logic for the operations above. -->
     <script src = "numpost.js"></script>
    <script src = "delete.js"></script>
    <script src="scripts.js"></script>
    <script src="update.js"></script>
    <script src="selection.js"></script>
</body>
</html>
